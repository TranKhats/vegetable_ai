================================================================================================
CARROT AUTO-LABELLING TRAINING RESULTS - HISTORY
================================================================================================

ðŸ“… Date: August 11, 2025
ðŸ¥• Project: Vegetable AI - Carrot Detection
ðŸŽ¯ Goal: Auto-labelling remaining 434 unlabeled carrot images

================================================================================================
TRAINING ATTEMPT #1 - FAILED (Poor Results)
================================================================================================

âš™ï¸ TRAINING CONFIGURATION:
â”œâ”€â”€ Model: YOLOv8n (nano) - 3.2M parameters
â”œâ”€â”€ Epochs: 30
â”œâ”€â”€ Batch Size: 8 (auto-reduced from 16 for CPU)
â”œâ”€â”€ Image Size: 640x640
â”œâ”€â”€ Device: CPU (Apple M1)
â”œâ”€â”€ Dataset: 78 train + 20 validation images
â””â”€â”€ Duration: ~15-20 minutes

ðŸ“Š LOSS FUNCTION SETTINGS (OLD - PROBLEMATIC):
â”œâ”€â”€ box: 7.5 (TOO HIGH - over-focus on box regression)
â”œâ”€â”€ cls: 0.5 (TOO LOW - poor classification learning)
â”œâ”€â”€ dfl: 1.5
â”œâ”€â”€ pose: 12.0 (UNNECESSARY for object detection)
â”œâ”€â”€ kobj: 1.0 (UNNECESSARY for object detection)
â”œâ”€â”€ label_smoothing: 0.0 (NO regularization)
â”œâ”€â”€ lr0: 0.01 (TOO HIGH - unstable training)
â””â”€â”€ patience: 15

ðŸŽ¯ TRAINING RESULTS (VERY POOR):
â”œâ”€â”€ mAP50: 0.6423 (64.23%) - Acceptable
â”œâ”€â”€ mAP50-95: 0.2513 (25.13%) - Low
â”œâ”€â”€ Precision: 0.0053 (0.53%) - EXTREMELY BAD! 
â”œâ”€â”€ Recall: 1.0000 (100%) - SEVERE OVERFITTING!
â””â”€â”€ Speed: 1.1ms preprocess, 138.1ms inference, 0.6ms postprocess

âŒ CRITICAL ISSUES IDENTIFIED:
â”œâ”€â”€ 99.47% of predictions are FALSE POSITIVES
â”œâ”€â”€ Model cannot distinguish carrot from background
â”œâ”€â”€ Severe overfitting - memorized training data
â”œâ”€â”€ Loss weights heavily biased toward box regression
â””â”€â”€ Model too small for complex carrot detection task

ðŸ” AUTO-LABELLING RESULTS (WITH CONFIDENCE=0.02):
â”œâ”€â”€ âœ… Successfully labeled: 434/434 images (100%)
â”œâ”€â”€ âš ï¸  Low confidence detections: 434/434 images (100%)
â”œâ”€â”€ âŒ Failed detections: 0/434 images (0%)
â”œâ”€â”€ ðŸ“Š Average detections per image: 5-20 boxes
â”œâ”€â”€ ðŸ“Š Confidence range: 0.021-0.027 (EXTREMELY LOW)
â””â”€â”€ ðŸ“ Output: 4,233 total bounding boxes generated

âš ï¸ AUTO-LABELLING QUALITY ASSESSMENT:
â”œâ”€â”€ Status: POOR QUALITY - requires extensive manual review
â”œâ”€â”€ Issue: Massive number of false positives due to 0.53% precision
â”œâ”€â”€ Problem: Model sees "carrots everywhere" - cannot discriminate
â”œâ”€â”€ Impact: Auto-labels are unreliable for production use
â””â”€â”€ Recommendation: RETRAIN with improved parameters

================================================================================================
LESSONS LEARNED & IMPROVEMENTS NEEDED:
================================================================================================

ðŸ”§ MODEL IMPROVEMENTS:
â”œâ”€â”€ Upgrade from YOLOv8n â†’ YOLOv8s (more parameters for better accuracy)
â”œâ”€â”€ Increase epochs: 30 â†’ 100 (better convergence)
â”œâ”€â”€ Optimize batch size: 8 â†’ 4 (better gradient updates for small dataset)
â””â”€â”€ Conservative learning rate: 0.01 â†’ 0.001

âš–ï¸ LOSS FUNCTION REBALANCING:
â”œâ”€â”€ Reduce box focus: 7.5 â†’ 3.0
â”œâ”€â”€ Increase classification focus: 0.5 â†’ 1.5 (FIX PRECISION!)
â”œâ”€â”€ Remove unnecessary components: pose, kobj
â”œâ”€â”€ Add regularization: label_smoothing 0.0 â†’ 0.15
â””â”€â”€ Increase weight decay: 0.0005 â†’ 0.001

ðŸŽ¨ AUGMENTATION OPTIMIZATION:
â”œâ”€â”€ Conservative color augmentation (reduce overfitting)
â”œâ”€â”€ Add rotation: degrees 0.0 â†’ 5.0
â”œâ”€â”€ Add mixup: 0.0 â†’ 0.1 (regularization)
â”œâ”€â”€ Reduce mosaic intensity: 1.0 â†’ 0.8
â””â”€â”€ Balanced augmentation strategy

ðŸ“ˆ EXPECTED IMPROVEMENTS:
â”œâ”€â”€ Target mAP50: 75-85% (â†‘15-30%)
â”œâ”€â”€ Target Precision: 15-40% (â†‘30-80x improvement!)
â”œâ”€â”€ Target Recall: 80-90% (more balanced)
â”œâ”€â”€ Auto-labelling confidence: >0.3 (vs current 0.02)
â””â”€â”€ Manual review requirement: Significantly reduced

================================================================================================
NEXT TRAINING PLAN - ATTEMPT #2:
================================================================================================

ðŸŽ¯ NEW CONFIGURATION:
â”œâ”€â”€ Model: YOLOv8s (small) - 11.2M parameters
â”œâ”€â”€ Epochs: 100 
â”œâ”€â”€ Batch: 4
â”œâ”€â”€ Loss: Rebalanced (cls=1.5, box=3.0, label_smoothing=0.15)
â”œâ”€â”€ LR: Conservative (0.001)
â”œâ”€â”€ Patience: 20
â””â”€â”€ Expected Duration: ~60-80 minutes

ðŸŽª SUCCESS CRITERIA:
â”œâ”€â”€ Precision > 15% (minimum acceptable)
â”œâ”€â”€ Recall: 80-95% (balanced)
â”œâ”€â”€ mAP50 > 75%
â”œâ”€â”€ Auto-labelling confidence > 0.3
â””â”€â”€ <50% manual review required

================================================================================================
STATUS: READY FOR IMPROVED TRAINING ATTEMPT #2
================================================================================================

ðŸ—‘ï¸ CLEANUP COMPLETED:
â”œâ”€â”€ Old training results backed up to: runs/detect/carrot_auto_labeller_OLD_FAILED_backup/
â”œâ”€â”€ Backup size: 39MB (charts, weights, logs)
â”œâ”€â”€ Training directory cleared for fresh start
â””â”€â”€ Ready to train with improved parameters

âš¡ READY TO RUN:
â”œâ”€â”€ Command: python train_model.py --vegetable carrot --epochs 100 --batch 4
â”œâ”€â”€ Expected model: YOLOv8s with optimized loss functions
â”œâ”€â”€ Expected output: runs/detect/carrot_auto_labeller/ (new experiment)
â””â”€â”€ Expected duration: 60-80 minutes

================================================================================================